<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml"
xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragmentos :: head}"></head>

<body>

  <!-- ======= Header ======= -->
  <header th:replace="~{fragmentos :: header}"></header>
  <!-- End Header -->

  <!-- ======= Sidebar ======= -->
  <aside id="sidebar" class="sidebar" th:replace="~{fragmentos :: sideBar}"></aside><!-- End Sidebar-->

  <section class="section">
    <div class="row" >
      <div class="col-lg-6" style="margin: auto; ">

        <div class="card" style="width: 1200px;">
          <div class="card-body" style="padding: 61px 20px 20px 20px">
              <form name="formulario" th:action="buscarPorMes" method="POST" onchange="submitform()">
                <h5>Selecione o mês que deseja verificar o relatorio</h5>
                <input type="month" id="data" name="data">
                <br>
                <br>
                <!-- <button class="btn btn-primary">Buscar</button> -->
              </form>
              <br>
                <table class="table table-hover" > 
                    <thead class="table-light th">
                        <tr>
                            <th>Prontuário</th>
                            <th>Rg</th>
                            <th>atendimento</th>
                            <th>Origem</th>
                            <th>Data Atendimento</th>
                            <th>Status</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="atendimento : ${atendimentos}">
                            <td th:text="${atendimento.prontuario}"></td>
                            <td th:text="${atendimento.rg}"></td>
                            <td th:text="${atendimento.nome}"></td>
                            <td th:text="${atendimento.origem}"></td>
                            <td th:text="${#temporals.format(atendimento.dataAtendimento, 'dd-MM-yyyy')}"></td>
                            <td th:text="${atendimento.status}"></td>
                            <td><a class="btn btn-primary" th:href="@{editarAtendimento/{idAtendimento}(idAtendimento=${atendimento.id})}">Editar</a></td>
                            <td><a th:data-confirm-delete="|Você tem certeza que deseja excluir o atendimento de: ${atendimento.nome} ?|"
                              onclick="if (!confirm(this.getAttribute('data-confirm-delete'))) return false"
                              th:href="@{/excluiratendimento/{id}(id = ${atendimento.id})}" class="btn btn-danger">Excluir</a></td>
                        </tr>
                    </tbody>
                </table>
          </div>
        </div>
      </div>
      </div>
    </div>
  </section>

  <main id="main" class="main">

    

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer" style="margin-top: 380px; padding: 0px; margin-left: 10px;">
    <div class="copyright">
      &copy; Copyright <strong><span>Caixa Beneficente</span></strong>. All Rights Reserved
    </div>
    <div class="credits">
    </div>
  </footer>

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/chart.js/chart.umd.js"></script>
  <script src="assets/vendor/echarts/echarts.min.js"></script>
  <script src="assets/vendor/quill/quill.min.js"></script>
  <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
  <script src="assets/vendor/tinymce/tinymce.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <script type="text/javascript">
    function submitform() {
        document.formulario.submit();
    }
</script>

</body>

</html>